<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    
    <title>Rifiuti</title>
    
    <link rel="stylesheet" href="style.css">
    
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>
    <div class="container">
        <h1>La gestione dei rifiuti nei comuni italiani</h1>
            <table style="width:100%">
                <tr>
                    <td>
	                <div id="option">
                            <input id="inputPiu" name="updateButton" type="button" value="Comuni con piu' di 200000 abitanti" onclick="updateOnClick()" /> 
                            
                            <form id="myForm"> 
                                <select id="selezionaRP" onchange="updateOnSelect()"> 
                                    <option>
                                        Scegli una Regione o una Provincia
                                    </option>
                                </select>
                            </form>
                            <br><br>
                        </div>
                        <div id="chart"></div>
                        <div id="radiusLegend"></div>
                    </td><td>
                        <div id="table"></div>
                    </td> 
                </tr>
            </table>
	    <span class="instruction">
                Scorri il mouse sull'anno per andare indietro o avanti nel tempo. Clicca su un comune per visualizzare i dati sui rifiuti ad esso relativi.<br>
                Scegli una regione o una provincia nel menu a tendina per visualizzare i dati associati. Nella visualizzazione sono inclusi solo i Comuni di Regioni a Statuto Ordinario.
            </span>
            <br><br>
            <div class="description">
	       Nel grafico i comuni più virtuosi sono quelli in alto a destra (in verde), quelli meno virtuosi in basso a sinistra (in rosso).
	       <br><br>
               Sull'asse orizzontale è riportata una misura dell'efficienza del comune nella gestione della spesa, ottenuta 
               confrontando per tutti i comuni la spesa storica e il fabbisogno standard, più precisamente considerando la distribuzione del rapporto tra: 
                <ul><li>la differenza tra la spesa storica e il fabbisogno standard</li> <li>il fabbisogno standard</li></ul> per tutti i comuni ed 
               assegnando a ciascun comune un punteggio da 1 a 10 a seconda del valore di tale rapporto. Ad esempio ai comuni con una spesa inferiore 
               al fabbisogno standard viene assegnato un punteggio più alto.
                <br><br>
               Sull’asse verticale è riportato invece il posizionamento del comune rispetto al livello dei servizi erogati, ovvero il rapporto fra
               <ul><li>la differenza tra il livello storico e il livello standard dei servizi</li> <li>il livello standard.</li></ul>
	       <br><br>
               Entrambi i posizionamenti sono espressi su una scala da 1 (comuni meno virtuosi) a 10 (comuni più virtuosi).
               <br>
               Note: i dati originari sono relativi agli anni 2010 e 2013 e sono stati interpolati in maniera lineare per 2011 e 2012;
               per semplificare la visualizzazione, nei grafici relativi alle regioni sono riportati solo i comuni con più di 30000 abitanti 
               mentre nei grafici relativi alle province sono riportati solo i comuni con più di 5000 abitanti.
                
            </div>
            <br>
            <footer>
                <p class="credit">
                    Crediti: Questo grafico e' stato realizzato utilizzando <a href="https://d3js.org/">d3</a>. 
                    Dati elaborati da <a href="https://www.sose.it/">SOSE</a> su open data disponibili <a href="https://www.opencivitas.it"/>qui</a>. 
                    Il codice sorgente e' disponibile su <a href="https://github.com/esterpantaleo/daf-sose-rifiuti-fabbisogno"  target="_blank">Github</a>.
                </p>
            </footer>
    </div>
    <script type="text/javascript" src="index.js"></script>
</body>
